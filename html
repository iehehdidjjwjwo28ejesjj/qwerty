<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi Tools</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/javascript-obfuscator@4/dist/index.browser.js"></script>
<script src="https://cdn.jsdelivr.net/npm/terser/dist/bundle.min.js"></script>
<script src="https://unpkg.com/prettier@3.2.5/standalone.js"></script>
<script src="https://unpkg.com/prettier@3.2.5/plugins/babel.js"></script>
<script src="https://unpkg.com/prettier@3.2.5/plugins/estree.js"></script>
<script src="https://unpkg.com/prettier@3.2.5/plugins/html.js"></script>
<script src="https://unpkg.com/prettier@3.2.5/plugins/postcss.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/json.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/plaintext.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/auto-detect.min.js"></script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #0a0a0a;
  color: #e0e0e0;
  overflow-x: hidden;
  min-height: 100vh;
  position: relative;
}

#vanta-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  position: relative;
  z-index: 2;
}

header {
  text-align: center;
  padding: 30px 0;
  margin-bottom: 30px;
  border-bottom: 1px solid rgba(100, 200, 255, 0.2);
}

.lang-switch {
  position: absolute;
  top: 20px;
  right: 20px;
  display: flex;
  gap: 10px;
}

.lang-btn {
  padding: 8px 16px;
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  border: 1px solid rgba(100, 200, 255, 0.3);
  border-radius: 6px;
  color: #fff;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 1px;
  animation: barberPole 3s linear infinite;
  position: relative;
  overflow: hidden;
}

.lang-btn:hover {
  background: linear-gradient(90deg, 
    #2c5aa0, 
    #3d6fb5, 
    #64b5f6, 
    #3d6fb5, 
    #2c5aa0);
  background-size: 200% 100%;
  animation: barberPole 1.5s linear infinite;
  box-shadow: 0 5px 20px rgba(100, 181, 246, 0.4);
  transform: translateY(-2px);
}

.lang-btn:active {
  transform: translateY(0);
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  animation: barberPole 0.75s linear infinite;
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}

.lang-btn.active {
  background: linear-gradient(90deg, 
    #2c5aa0, 
    #3d6fb5, 
    #64b5f6, 
    #3d6fb5, 
    #2c5aa0);
  background-size: 200% 100%;
  border-color: #64b5f6;
  color: #fff;
  animation: barberPole 1.5s linear infinite !important;
}

.lang-btn.active:hover {
  animation: barberPole 0.75s linear infinite !important;
}

h1 {
  font-size: 2.5em;
  background: linear-gradient(90deg, 
    #64b5f6, 
    #42a5f5, 
    #2196f3, 
    #42a5f5, 
    #64b5f6);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: barberPole 2.5s linear infinite;
  text-shadow: 0 0 30px rgba(100, 181, 246, 0.4);
}

@keyframes barberPole {
  0% {
    background-position: 0% 0%;
  }
  100% {
    background-position: 200% 0%;
  }
}

.subtitle {
  color: #888;
  margin-top: 10px;
  font-size: 0.9em;
  letter-spacing: 2px;
  background: linear-gradient(90deg, 
    #888, 
    #aaa, 
    #ccc, 
    #aaa, 
    #888);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: barberPole 3s linear infinite;
}

.quick-nav {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-bottom: 30px;
  padding: 20px;
  background: rgba(20, 20, 30, 0.6);
  border-radius: 12px;
  border: 1px solid rgba(100, 200, 255, 0.2);
}

.quick-nav-btn {
  padding: 10px 20px;
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  border: 1px solid rgba(100, 200, 255, 0.3);
  border-radius: 8px;
  color: #fff;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  animation: barberPole 3s linear infinite;
  position: relative;
  overflow: hidden;
}

.quick-nav-btn:hover {
  background: linear-gradient(90deg, 
    #2c5aa0, 
    #3d6fb5, 
    #64b5f6, 
    #3d6fb5, 
    #2c5aa0);
  background-size: 200% 100%;
  animation: barberPole 1.5s linear infinite;
  box-shadow: 0 5px 20px rgba(100, 181, 246, 0.4);
  transform: translateY(-2px);
}

.quick-nav-btn:active {
  transform: translateY(0);
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  animation: barberPole 0.75s linear infinite;
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.card {
  background: rgba(20, 20, 30, 0.8);
  border: 1px solid rgba(100, 200, 255, 0.2);
  border-radius: 12px;
  padding: 20px;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  position: relative;
  scroll-margin-top: 20px;
}

.card:hover {
  border-color: rgba(100, 200, 255, 0.5);
  box-shadow: 0 8px 30px rgba(100, 200, 255, 0.15);
  transform: translateY(-5px);
}

.card.locked {
  opacity: 0.5;
  background: rgba(40, 40, 40, 0.8);
  border-color: rgba(100, 100, 100, 0.3);
}

.card.locked:hover {
  transform: none;
  box-shadow: none;
}

.card-title {
  font-size: 1.3em;
  margin-bottom: 15px;
  color: #64b5f6;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.card-title span {
  background: linear-gradient(90deg, 
    #64b5f6, 
    #42a5f5, 
    #2196f3, 
    #42a5f5, 
    #64b5f6);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: barberPole 3s linear infinite;
}

.card-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

.info-btn {
  padding: 4px 10px;
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  border: 1px solid rgba(100, 200, 255, 0.3);
  border-radius: 50%;
  color: #fff;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: barberPole 3s linear infinite;
  position: relative;
  overflow: hidden;
}

.info-btn:hover {
  background: linear-gradient(90deg, 
    #2c5aa0, 
    #3d6fb5, 
    #64b5f6, 
    #3d6fb5, 
    #2c5aa0);
  background-size: 200% 100%;
  animation: barberPole 1.5s linear infinite;
  box-shadow: 0 5px 20px rgba(100, 181, 246, 0.4);
  transform: translateY(-2px);
}

.info-btn:active {
  transform: translateY(0);
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  animation: barberPole 0.75s linear infinite;
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}

.reset-btn {
  padding: 6px 12px;
  background: linear-gradient(90deg, 
    #5f1e1e, 
    #a02c2c, 
    #b53d3d, 
    #a02c2c, 
    #5f1e1e);
  background-size: 200% 100%;
  border: 1px solid rgba(255, 100, 100, 0.3);
  border-radius: 6px;
  color: #fff;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  animation: barberPole 3s linear infinite;
  position: relative;
  overflow: hidden;
}

.reset-btn:hover {
  background: linear-gradient(90deg, 
    #a02c2c, 
    #b53d3d, 
    #ff6b6b, 
    #b53d3d, 
    #a02c2c);
  background-size: 200% 100%;
  animation: barberPole 1.5s linear infinite;
  box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
  transform: translateY(-2px);
}

.reset-btn:active {
  transform: translateY(0);
  background: linear-gradient(90deg, 
    #5f1e1e, 
    #a02c2c, 
    #b53d3d, 
    #a02c2c, 
    #5f1e1e);
  background-size: 200% 100%;
  animation: barberPole 0.75s linear infinite;
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}

.paste-btn {
  padding: 6px 12px;
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  border: 1px solid rgba(100, 200, 255, 0.3);
  border-radius: 6px;
  color: #fff;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  animation: barberPole 3s linear infinite;
  position: relative;
  overflow: hidden;
}

.paste-btn:hover {
  background: linear-gradient(90deg, 
    #2c5aa0, 
    #3d6fb5, 
    #64b5f6, 
    #3d6fb5, 
    #2c5aa0);
  background-size: 200% 100%;
  animation: barberPole 1.5s linear infinite;
  box-shadow: 0 5px 20px rgba(100, 181, 246, 0.4);
  transform: translateY(-2px);
}

.paste-btn:active {
  transform: translateY(0);
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  animation: barberPole 0.75s linear infinite;
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}

.code-input-container {
  position: relative;
  margin-bottom: 12px;
  border: 1px solid rgba(100, 200, 255, 0.3);
  border-radius: 8px;
  overflow: hidden;
  background: rgba(10, 10, 20, 0.9);
}

.code-input-container:focus-within {
  border-color: #64b5f6;
  box-shadow: 0 0 15px rgba(100, 181, 246, 0.3);
}

.code-input {
  width: 100%;
  min-height: 150px;
  max-height: 250px;
  background: transparent !important;
  border: none;
  padding: 12px;
  color: transparent !important;
  caret-color: #e0e0e0;
  font-family: 'Fira Code', 'Courier New', monospace;
  font-size: 13px;
  line-height: 1.5;
  resize: vertical;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
  z-index: 2;
  outline: none;
  tab-size: 2;
  white-space: pre;
}

.code-highlight {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 12px;
  margin: 0;
  font-family: 'Fira Code', 'Courier New', monospace;
  font-size: 13px;
  line-height: 1.5;
  overflow: hidden;
  pointer-events: none;
  z-index: 1;
  white-space: pre;
  tab-size: 2;
}

.code-input::-webkit-scrollbar {
  width: 10px;
  background: transparent;
  height: 100%;
}

.code-input::-webkit-scrollbar-button {
  display: none;
  height: 0;
}

.code-input::-webkit-scrollbar-track {
  background: transparent;
  margin-top: 1px;
  margin-bottom: 1px;
}

.code-input::-webkit-scrollbar-track-piece {
  background: transparent;
  margin-top: 1px;
  margin-bottom: 1px;
}

.code-input::-webkit-scrollbar-corner {
  display: none;
  background: transparent;
  height: 0;
}

.code-input::-webkit-resizer {
  display: none;
  height: 0;
}

.code-input::-webkit-scrollbar-thumb {
  background: rgba(100, 200, 255, 0.5);
  border-radius: 5px;
  min-height: 30px;
}

.code-input::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 200, 255, 0.7);
}

.button {
  width: 100%;
  padding: 12px;
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  border: 1px solid rgba(100, 200, 255, 0.3);
  border-radius: 8px;
  color: #fff;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 1px;
  animation: barberPole 3s linear infinite;
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
}

.button:hover {
  background: linear-gradient(90deg, 
    #2c5aa0, 
    #3d6fb5, 
    #64b5f6, 
    #3d6fb5, 
    #2c5aa0);
  background-size: 200% 100%;
  animation: barberPole 1.5s linear infinite;
  box-shadow: 0 5px 20px rgba(100, 181, 246, 0.4);
  transform: translateY(-2px);
}

.button:active {
  transform: translateY(0);
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  animation: barberPole 0.75s linear infinite;
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}

.result-container {
  margin-top: 15px;
  display: none;
}

.result-container.show {
  display: block;
}

.result-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.result-label {
  color: #888;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 1px;
  background: linear-gradient(90deg, 
    #888, 
    #aaa, 
    #ccc, 
    #aaa, 
    #888);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: barberPole 3s linear infinite;
}

.copy-btn {
  padding: 6px 12px;
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  border: 1px solid rgba(100, 200, 255, 0.3);
  border-radius: 6px;
  color: #fff;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  animation: barberPole 3s linear infinite;
  position: relative;
  overflow: hidden;
}

.copy-btn:hover {
  background: linear-gradient(90deg, 
    #2c5aa0, 
    #3d6fb5, 
    #64b5f6, 
    #3d6fb5, 
    #2c5aa0);
  background-size: 200% 100%;
  animation: barberPole 1.5s linear infinite;
  box-shadow: 0 5px 20px rgba(100, 181, 246, 0.4);
  transform: translateY(-2px);
}

.copy-btn:active {
  transform: translateY(0);
  background: linear-gradient(90deg, 
    #1e3a5f, 
    #2c5aa0, 
    #3d6fb5, 
    #2c5aa0, 
    #1e3a5f);
  background-size: 200% 100%;
  animation: barberPole 0.75s linear infinite;
  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}

.copy-btn.copied {
  background: linear-gradient(90deg, 
    #1e5f2c, 
    #2ca04e, 
    #3db56b, 
    #2ca04e, 
    #1e5f2c);
  border-color: rgba(81, 207, 102, 0.3);
  animation: barberPole 1.5s linear infinite;
}

.copy-btn.copied:hover {
  background: linear-gradient(90deg, 
    #2ca04e, 
    #3db56b, 
    #51cf66, 
    #3db56b, 
    #2ca04e);
  background-size: 200% 100%;
  animation: barberPole 0.75s linear infinite;
  box-shadow: 0 5px 20px rgba(81, 207, 102, 0.4);
}

.copy-btn.copied:active {
  background: linear-gradient(90deg, 
    #1e5f2c, 
    #2ca04e, 
    #3db56b, 
    #2ca04e, 
    #1e5f2c);
  background-size: 200% 100%;
  animation: barberPole 0.4s linear infinite;
}

.result {
  padding: 12px;
  background: rgba(10, 10, 20, 0.95);
  border: 1px solid rgba(100, 200, 255, 0.2);
  border-radius: 8px;
  max-height: 250px;
  overflow-y: auto;
  overflow-x: hidden;
  font-family: 'Fira Code', 'Courier New', monospace;
  font-size: 12px;
  line-height: 1.5;
  word-break: break-all;
  white-space: pre-wrap;
  color: #aaa;
  background-clip: padding-box;
}

.result pre {
  margin: 0;
  padding: 0;
  background: transparent;
  overflow-x: auto;
}

.result code.hljs {
  padding: 0;
  background: transparent;
  display: block;
  overflow-x: auto;
  font-family: 'Fira Code', 'Courier New', monospace;
  font-size: 12px;
  line-height: 1.5;
  tab-size: 2;
}

.hljs {
  background: transparent !important;
  padding: 0 !important;
}

.result::-webkit-scrollbar {
  width: 10px;
  background: transparent;
}

.result::-webkit-scrollbar-button {
  display: none;
  height: 0;
}

.result::-webkit-scrollbar-track {
  background: transparent;
  margin-top: 0;
  margin-bottom: 0;
}

.result::-webkit-scrollbar-track-piece {
  background: transparent;
  margin-top: 0;
  margin-bottom: 0;
}

.result::-webkit-scrollbar-corner {
  display: none;
  background: transparent;
  height: 0;
}

.result::-webkit-resizer {
  display: none;
  height: 0;
}

.result::-webkit-scrollbar-thumb {
  background: rgba(100, 200, 255, 0.5);
  border-radius: 5px;
  min-height: 30px;
}

.result::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 200, 255, 0.7);
}

.error {
  color: #ff6b6b;
  border-color: rgba(255, 107, 107, 0.3);
}

.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(5px);
}

.modal.show {
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background: rgba(20, 20, 30, 0.95);
  border: 1px solid rgba(100, 200, 255, 0.3);
  border-radius: 12px;
  padding: 30px;
  max-width: 500px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  position: relative;
  animation: modalSlide 0.3s ease;
}

@keyframes modalSlide {
  from {
    transform: translateY(-50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.modal-close {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 28px;
  color: #888;
  cursor: pointer;
  transition: all 0.2s ease;
}

.modal-close:hover {
  color: #64b5f6;
}

.modal-title {
  font-size: 1.5em;
  color: #64b5f6;
  margin-bottom: 15px;
  background: linear-gradient(90deg, 
    #64b5f6, 
    #42a5f5, 
    #2196f3, 
    #42a5f5, 
    #64b5f6);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: barberPole 2.5s linear infinite;
}

.modal-text {
  color: #ccc;
  line-height: 1.6;
  font-size: 0.95em;
}

.info-item {
  margin: 10px 0;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 0.9em;
}

.info-type {
  background: rgba(100, 200, 255, 0.1);
  border-left: 3px solid #64b5f6;
  color: #64b5f6;
}

.info-warning {
  background: rgba(255, 193, 7, 0.1);
  border-left: 3px solid #ffc107;
  color: #ffc107;
}

.info-error {
  background: rgba(244, 67, 54, 0.1);
  border-left: 3px solid #f44336;
  color: #f44336;
}

.info-success {
  background: rgba(76, 175, 80, 0.1);
  border-left: 3px solid #4caf50;
  color: #4caf50;
}

.info-separator {
  margin: 20px 0;
  height: 1px;
  background: rgba(100, 200, 255, 0.2);
}

.info-details {
  margin-top: 15px;
  padding: 15px;
  background: rgba(10, 10, 20, 0.5);
  border-radius: 8px;
  border: 1px solid rgba(100, 200, 255, 0.15);
}

.info-details-title {
  color: #64b5f6;
  font-size: 0.95em;
  margin-bottom: 10px;
  font-weight: 600;
  background: linear-gradient(90deg, 
    #64b5f6, 
    #42a5f5, 
    #2196f3, 
    #42a5f5, 
    #64b5f6);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: barberPole 3s linear infinite;
}

.info-details-text {
  color: #aaa;
  font-size: 0.85em;
  line-height: 1.6;
}

footer {
  text-align: center;
  padding: 20px;
  color: #555;
  font-size: 0.85em;
}

.stats-container {
  margin-bottom: 15px;
  padding: 15px;
  background: rgba(20, 20, 30, 0.6);
  border-radius: 8px;
  border: 1px solid rgba(100, 200, 255, 0.2);
}

.stats-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.stats-title {
  color: #64b5f6;
  font-size: 0.9em;
  background: linear-gradient(90deg, 
    #64b5f6, 
    #42a5f5, 
    #2196f3, 
    #42a5f5, 
    #64b5f6);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: barberPole 3s linear infinite;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
  font-size: 0.85em;
}

.stats-grid span:first-child {
  background: linear-gradient(90deg, 
    #888, 
    #aaa, 
    #ccc, 
    #aaa, 
    #888);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: barberPole 3s linear infinite;
}

.author {
  margin-top: 10px;
  display: flex;
  justify-content: center;
  gap: 15px;
  flex-wrap: wrap;
}

.author a {
  color: #64b5f6;
  text-decoration: none;
  transition: all 0.3s ease;
  padding: 5px 10px;
  border-radius: 5px;
  background: rgba(100, 200, 255, 0.05);
}

.author a:hover {
  color: #42a5f5;
  background: rgba(100, 200, 255, 0.15);
  transform: translateY(-2px);
}

.locked-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
  cursor: pointer;
  z-index: 10;
}

.locked-content {
  text-align: center;
  color: #888;
}

.locked-icon {
  font-size: 3em;
  margin-bottom: 10px;
}

.timer-display {
  margin-top: 10px;
  padding: 8px;
  background: linear-gradient(90deg, 
    #1e5f2c, 
    #2ca04e, 
    #3db56b, 
    #2ca04e, 
    #1e5f2c);
  background-size: 200% 100%;
  border: 1px solid rgba(81, 207, 102, 0.3);
  border-radius: 6px;
  color: #fff;
  text-align: center;
  font-size: 0.9em;
  font-weight: 600;
  animation: barberPole 2s linear infinite;
}

@media (max-width: 768px) {
  .grid {
    grid-template-columns: 1fr;
  }

  h1 {
    font-size: 2em;
  }

  .lang-switch {
    position: static;
    justify-content: center;
    margin-bottom: 20px;
  }

  .card-title {
    font-size: 1.1em;
  }

  .card-actions {
    width: 100%;
    justify-content: flex-end;
  }
}
</style>
</head>
<body>

<div id="vanta-bg"></div>

<div class="container">
  <div class="lang-switch">
    <button class="lang-btn" onclick="app.setLanguage('en')" data-lang="en">EN</button>
    <button class="lang-btn active" onclick="app.setLanguage('ru')" data-lang="ru">RU</button>
  </div>

  <header>
    <h1 data-en="MULTI TOOLS" data-ru="–ú–£–õ–¨–¢–ò –ò–ù–°–¢–†–£–ú–ï–ù–¢–´">MULTI TOOLS</h1>
    <div class="subtitle" data-en="Universal Developer Toolkit " data-ru="–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞">Universal Developer Toolkit</div>
  </header>

  <div class="quick-nav">
    <button class="quick-nav-btn" onclick="app.scrollToCard('jsonEncCard')" data-en="JSON > Unicode" data-ru="JSON > Unicode">JSON > Unicode</button>
    <button class="quick-nav-btn" onclick="app.scrollToCard('jsonDecCard')" data-en="Unicode > JSON" data-ru="Unicode > JSON">Unicode > JSON</button>
    <button class="quick-nav-btn" onclick="app.scrollToCard('jsObfCard')" data-en="Code Obfuscate" data-ru="–û–±—Ñ—É—Å–∫–∞—Ü–∏—è –∫–æ–¥–∞">Code Obfuscate</button>
    <button class="quick-nav-btn" onclick="app.scrollToCard('jsDeobfCard')" data-en="Code Deobfuscate" data-ru="–î–µ–æ–±—Ñ—É—Å–∫–∞—Ü–∏—è –∫–æ–¥–∞">Code Deobfuscate</button>
    <button class="quick-nav-btn" onclick="app.scrollToCard('minifyCard')" data-en="Code Minify" data-ru="–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞">Code Minify</button>
    <button class="quick-nav-btn" onclick="app.scrollToCard('beautifyCard')" data-en="Code Beautify" data-ru="–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞">Code Beautify</button>
    <button class="quick-nav-btn" onclick="app.scrollToCard('uuidCard')" data-en="UUID Generator" data-ru="UUID –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä">UUID Generator</button>
  </div>

  <div class="grid">
    <div class="card" id="jsonEncCard">
      <div class="card-title">
        <span data-en="CODE > Unicode Escape" data-ru="CODE > Unicode Escape">CODE > Unicode Escape</span>
        <div class="card-actions">
          <button class="info-btn" onclick="app.showInfo('jsonEnc')">‚ìò</button>
          <button class="reset-btn" onclick="app.resetInput('jsonEncInput')" data-en="Reset" data-ru="–°–±—Ä–æ—Å">Reset</button>
          <button class="paste-btn" onclick="app.pasteToInput('jsonEncInput')" data-en="Paste" data-ru="–í—Å—Ç–∞–≤–∏—Ç—å">Paste</button>
        </div>
      </div>
      <div class="code-input-container">
        <textarea class="code-input" id="jsonEncInput" data-en='Paste CODE to convert...' data-ru='–í—Å—Ç–∞–≤—å—Ç–µ CODE –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏...' placeholder='Paste JSON to convert...' oninput="app.updateHighlight(this)"></textarea>
        <div class="code-highlight" id="jsonEncHighlight"></div>
      </div>
      <button class="button" onclick="app.jsonEncrypt()" data-en="Convert to Unicode" data-ru="–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Unicode">Convert to Unicode</button>
      <div class="result-container" id="jsonEncContainer">
        <div class="result-header">
          <span class="result-label" data-en="Result" data-ru="–†–µ–∑—É–ª—å—Ç–∞—Ç">Result</span>
          <button class="copy-btn" onclick="app.copyResult('jsonEncResult', this)" data-en="Copy" data-ru="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">Copy</button>
        </div>
        <pre class="result" id="jsonEncResult"></pre>
      </div>
    </div>

    <div class="card locked" id="jsonDecCard">
      <div class="locked-overlay" onclick="app.showAccessModal()">
        <div class="locked-content">
          <div class="locked-icon">üîí</div>
        </div>
      </div>
      <div class="card-title">
        <span data-en="Unicode Escape > CODE" data-ru="Unicode Escape > CODE">Unicode Escape > CODE</span>
        <div class="card-actions">
          <button class="info-btn" onclick="app.showInfo('jsonDec')">‚ìò</button>
          <button class="reset-btn" onclick="app.resetInput('jsonDecInput')" data-en="Reset" data-ru="–°–±—Ä–æ—Å">Reset</button>
          <button class="paste-btn" onclick="app.pasteToInput('jsonDecInput')" data-en="Paste" data-ru="–í—Å—Ç–∞–≤–∏—Ç—å">Paste</button>
        </div>
      </div>
      <div class="code-input-container">
        <textarea class="code-input" id="jsonDecInput" data-en='Paste Unicode escaped JSON...' data-ru='–í—Å—Ç–∞–≤—å—Ç–µ Unicode JSON...' placeholder='Paste Unicode escaped JSON...' oninput="app.updateHighlight(this)"></textarea>
        <div class="code-highlight" id="jsonDecHighlight"></div>
      </div>
      <button class="button" onclick="app.jsonDecrypt()" data-en="Convert to JSON" data-ru="–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ JSON">Convert to JSON</button>
      <div class="result-container" id="jsonDecContainer">
        <div class="result-header">
          <span class="result-label" data-en="Result" data-ru="–†–µ–∑—É–ª—å—Ç–∞—Ç">Result</span>
          <button class="copy-btn" onclick="app.copyResult('jsonDecResult', this)" data-en="Copy" data-ru="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">Copy</button>
        </div>
        <pre class="result" id="jsonDecResult"></pre>
      </div>
    </div>

    <div class="card" id="jsObfCard">
      <div class="card-title">
        <span data-en="Code Obfuscate" data-ru="–û–±—Ñ—É—Å–∫–∞—Ü–∏—è –∫–æ–¥–∞">Code Obfuscate</span>
        <div class="card-actions">
          <button class="info-btn" onclick="app.showInfo('jsObf')">‚ìò</button>
          <button class="reset-btn" onclick="app.resetInput('jsObfInput')" data-en="Reset" data-ru="–°–±—Ä–æ—Å">Reset</button>
          <button class="paste-btn" onclick="app.pasteToInput('jsObfInput')" data-en="Paste" data-ru="–í—Å—Ç–∞–≤–∏—Ç—å">Paste</button>
        </div>
      </div>
      <div class="code-input-container">
        <textarea class="code-input" id="jsObfInput" data-en="Paste code to obfuscate..." data-ru="–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –¥–ª—è –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏..." placeholder="Paste code to obfuscate..." oninput="app.updateHighlight(this)"></textarea>
        <div class="code-highlight" id="jsObfHighlight"></div>
      </div>
      <button class="button" onclick="app.jsObfuscate()" data-en="Obfuscate Code" data-ru="–û–±—Ñ—É—Å—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">Obfuscate Code</button>
      <div class="result-container" id="jsObfContainer">
        <div class="result-header">
          <span class="result-label" data-en="Result" data-ru="–†–µ–∑—É–ª—å—Ç–∞—Ç">Result</span>
          <button class="copy-btn" onclick="app.copyResult('jsObfResult', this)" data-en="Copy" data-ru="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">Copy</button>
        </div>
        <pre class="result" id="jsObfResult"></pre>
      </div>
    </div>

    <div class="card locked" id="jsDeobfCard">
      <div class="locked-overlay" onclick="app.showAccessModal()">
        <div class="locked-content">
          <div class="locked-icon">üîí</div>
        </div>
      </div>
      <div class="card-title">
        <span data-en="Code Deobfuscate" data-ru="–î–µ–æ–±—Ñ—É—Å–∫–∞—Ü–∏—è –∫–æ–¥–∞">Code Deobfuscate</span>
        <div class="card-actions">
          <button class="info-btn" onclick="app.showInfo('jsDeobf')">‚ìò</button>
          <button class="reset-btn" onclick="app.resetInput('jsDeobfInput')" data-en="Reset" data-ru="–°–±—Ä–æ—Å">Reset</button>
          <button class="paste-btn" onclick="app.pasteToInput('jsDeobfInput')" data-en="Paste" data-ru="–í—Å—Ç–∞–≤–∏—Ç—å">Paste</button>
        </div>
      </div>
      <div class="code-input-container">
        <textarea class="code-input" id="jsDeobfInput" data-en="Paste obfuscated code..." data-ru="–í—Å—Ç–∞–≤—å—Ç–µ –æ–±—Ñ—É—Å—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥..." placeholder="Paste obfuscated code..." oninput="app.updateHighlight(this)"></textarea>
        <div class="code-highlight" id="jsDeobfHighlight"></div>
      </div>
      <button class="button" onclick="app.jsDeobfuscate()" data-en="Deobfuscate Code" data-ru="–î–µ–æ–±—Ñ—É—Å—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">Deobfuscate Code</button>
      <div class="result-container" id="jsDeobfContainer">
        <div class="result-header">
          <span class="result-label" data-en="Result" data-ru="–†–µ–∑—É–ª—å—Ç–∞—Ç">Result</span>
          <button class="copy-btn" onclick="app.copyResult('jsDeobfResult', this)" data-en="Copy" data-ru="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">Copy</button>
        </div>
        <pre class="result" id="jsDeobfResult"></pre>
      </div>
    </div>

    <div class="card" id="minifyCard">
      <div class="card-title">
        <span data-en="Code Minify" data-ru="–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞">Code Minify</span>
        <div class="card-actions">
          <button class="info-btn" onclick="app.showInfo('minify')">‚ìò</button>
          <button class="reset-btn" onclick="app.resetInput('minifyInput')" data-en="Reset" data-ru="–°–±—Ä–æ—Å">Reset</button>
          <button class="paste-btn" onclick="app.pasteToInput('minifyInput')" data-en="Paste" data-ru="–í—Å—Ç–∞–≤–∏—Ç—å">Paste</button>
        </div>
      </div>
      <div class="code-input-container">
        <textarea class="code-input" id="minifyInput" data-en="Paste code to minify..." data-ru="–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –¥–ª—è –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏..." placeholder="Paste code to minify..." oninput="app.updateHighlight(this)"></textarea>
        <div class="code-highlight" id="minifyHighlight"></div>
      </div>
      <button class="button" onclick="app.codeMinify()" data-en="Minify Code" data-ru="–ú–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">Minify Code</button>
      <div class="result-container" id="minifyContainer">
        <div class="result-header">
          <span class="result-label" data-en="Result" data-ru="–†–µ–∑—É–ª—å—Ç–∞—Ç">Result</span>
          <button class="copy-btn" onclick="app.copyResult('minifyResult', this)" data-en="Copy" data-ru="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">Copy</button>
        </div>
        <pre class="result" id="minifyResult"></pre>
      </div>
    </div>

    <div class="card" id="beautifyCard">
      <div class="card-title">
        <span data-en="Code Beautify" data-ru="–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞">Code Beautify</span>
        <div class="card-actions">
          <button class="info-btn" onclick="app.showInfo('beautify')">‚ìò</button>
          <button class="reset-btn" onclick="app.resetInput('beautifyInput')" data-en="Reset" data-ru="–°–±—Ä–æ—Å">Reset</button>
          <button class="paste-btn" onclick="app.pasteToInput('beautifyInput')" data-en="Paste" data-ru="–í—Å—Ç–∞–≤–∏—Ç—å">Paste</button>
        </div>
      </div>
      <div class="code-input-container">
        <textarea class="code-input" id="beautifyInput" data-en="Paste code to beautify..." data-ru="–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..." placeholder="Paste code to beautify..." oninput="app.updateHighlight(this)"></textarea>
        <div class="code-highlight" id="beautifyHighlight"></div>
      </div>
      <button class="button" onclick="app.codeBeautify()" data-en="Beautify Code" data-ru="–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">Beautify Code</button>
      <div class="result-container" id="beautifyContainer">
        <div class="result-header">
          <span class="result-label" data-en="Result" data-ru="–†–µ–∑—É–ª—å—Ç–∞—Ç">Result</span>
          <button class="copy-btn" onclick="app.copyResult('beautifyResult', this)" data-en="Copy" data-ru="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">Copy</button>
        </div>
        <pre class="result" id="beautifyResult"></pre>
      </div>
    </div>

    <div class="card" id="uuidCard">
      <div class="card-title">
        <span data-en="UUID v4 Generator" data-ru="UUID v4 –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä">UUID v4 Generator</span>
        <div class="card-actions">
          <button class="info-btn" onclick="app.showInfo('uuid')">‚ìò</button>
        </div>
      </div>
      <button class="button" onclick="app.generateUUID()" data-en="Generate UUID" data-ru="–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å UUID">Generate UUID</button>
      <div class="result-container" id="uuidContainer">
        <div class="result-header">
          <span class="result-label" data-en="Result" data-ru="–†–µ–∑—É–ª—å—Ç–∞—Ç">Result</span>
          <button class="copy-btn" onclick="app.copyResult('uuidResult', this)" data-en="Copy" data-ru="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">Copy</button>
        </div>
        <pre class="result" id="uuidResult"></pre>
      </div>
    </div>
  </div>

  <footer>
    <div class="stats-container">
      <div class="stats-header">
        <div class="stats-title" data-en="Overall Usage Statistics" data-ru="–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">Overall Usage Statistics</div>
        <button class="info-btn" onclick="app.showInfo('stats')">‚ìò</button>
      </div>
      <div class="stats-grid">
        <div>
          <span style="color: #888;" data-en="CODE > Unicode:" data-ru="JSON > Unicode:">CODE > Unicode:</span>
          <span style="color: #64b5f6; font-weight: 600;" id="statJsonEnc">0</span>
        </div>
        <div>
          <span style="color: #888;" data-en="Unicode > CODE:" data-ru="Unicode > JSON:">Unicode > CODE:</span>
          <span style="color: #64b5f6; font-weight: 600;" id="statJsonDec">0</span>
        </div>
        <div>
          <span style="color: #888;" data-en="Obfuscate:" data-ru="–û–±—Ñ—É—Å–∫–∞—Ü–∏—è:">Obfuscate:</span>
          <span style="color: #64b5f6; font-weight: 600;" id="statJsObf">0</span>
        </div>
        <div>
          <span style="color: #888;" data-en="Deobfuscate:" data-ru="–î–µ–æ–±—Ñ—É—Å–∫–∞—Ü–∏—è:">Deobfuscate:</span>
          <span style="color: #64b5f6; font-weight: 600;" id="statJsDeobf">0</span>
        </div>
        <div>
          <span style="color: #888;" data-en="Minify:" data-ru="–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è:">Minify:</span>
          <span style="color: #64b5f6; font-weight: 600;" id="statMinify">0</span>
        </div>
        <div>
          <span style="color: #888;" data-en="Beautify:" data-ru="–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:">Beautify:</span>
          <span style="color: #64b5f6; font-weight: 600;" id="statBeautify">0</span>
        </div>
        <div>
          <span style="color: #888;" data-en="UUID:" data-ru="UUID:">UUID:</span>
          <span style="color: #64b5f6; font-weight: 600;" id="statUUID">0</span>
        </div>
        <div>
          <span style="color: #888;" data-en="Visitors:" data-ru="–ü–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π:">Visitors:</span>
          <span style="color: #51cf66; font-weight: 700;" id="statVisitors">0</span>
        </div>
        <div>
          <span style="color: #888;" data-en="Total:" data-ru="–í—Å–µ–≥–æ:">Total:</span>
          <span style="color: #51cf66; font-weight: 700;" id="statTotal">0</span>
        </div>
      </div>
    </div>
    <div id="timerDisplay" class="timer-display" style="display: none;"></div>
    <span data-en="¬© 2025 Multi Tools" data-ru="¬© 2025 –ú—É–ª—å—Ç–∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã" style="background: linear-gradient(90deg, #555, #777, #999, #777, #555); background-size: 200% 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: barberPole 3s linear infinite;">¬© 2025 Multi Tools</span>
    <div class="author">
      <span style="color: #888;" data-en="Author: VigeNerSl" data-ru="–ê–≤—Ç–æ—Ä: VigeNerSl" style="background: linear-gradient(90deg, #888, #aaa, #ccc, #aaa, #888); background-size: 200% 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: barberPole 3s linear infinite;">Author: VigeNerSl</span>
      <a href="https://github.com/VigeNerSl" target="_blank">GitHub</a>
      <a href="https://t.me/VigeNerSl" target="_blank">Telegram</a>
    </div>
    <span style="color: #555;" data-en="Version: 1.0" data-ru="–í–µ—Ä—Å–∏—è: 1.0" style="background: linear-gradient(90deg, #555, #777, #999, #777, #555); background-size: 200% 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: barberPole 3s linear infinite;">Version: 1.0</span>
  </footer>
</div>

<div class="modal" id="infoModal">
  <div class="modal-content">
    <span class="modal-close" onclick="app.closeModal()">&times;</span>
    <div class="modal-title" id="modalTitle"></div>
    <div class="modal-text" id="modalText"></div>
  </div>
</div>

<script>
let vantaEffect = null;

function initVanta() {
  if (window.VANTA) {
    vantaEffect = window.VANTA.NET({
      el: "#vanta-bg",
      mouseControls: true,
      touchControls: true,
      gyroControls: false,
      minHeight: 200.00,
      minWidth: 200.00,
      scale: 1.00,
      scaleMobile: 1.00,
      color: 0xb0f8,
      backgroundColor: 0x0a0a0a
    });
  }
}

function destroyVanta() {
  if (vantaEffect) {
    vantaEffect.destroy();
    vantaEffect = null;
  }
}

window.addEventListener('load', initVanta);
window.addEventListener('resize', function() {
  if (vantaEffect) {
    vantaEffect.resize();
  }
});
</script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, get, runTransaction } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyC7kKg6LbtJ51sw9US2AyRmkI_NwDmE28Q",
  authDomain: "project-vigenersl.firebaseapp.com",
  databaseURL: "https://project-vigenersl-default-rtdb.firebaseio.com",
  projectId: "project-vigenersl",
  storageBucket: "project-vigenersl.firebasestorage.app",
  messagingSenderId: "710338575654",
  appId: "1:710338575654:web:e7ba2076dc5bd160da55e7"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const state = {
  lang: null,
  access: false,
  expiry: 0,
  timer: null,
  stats: {},
  inputs: {},
  visited: false
};

function detectLanguage() {
  const nav = navigator.language || navigator.userLanguage;
  const lang = nav.toLowerCase().substring(0, 2);
  const cisList = ['ru', 'ky', 'kk', 'uz', 'tg', 'az', 'uk', 'be'];
  return cisList.includes(lang) ? 'ru' : 'en';
}

function loadState() {
  try {
    const saved = localStorage.getItem('mtState');
    if (saved) {
      const parsed = JSON.parse(saved);
      state.lang = parsed.lang || detectLanguage();
      state.inputs = parsed.inputs || {};
      state.visited = parsed.visited || false;
      state.access = parsed.access || false;
      state.expiry = parsed.expiry || 0;
      
      if (state.access && Date.now() < state.expiry) {
        window.app.unlockCards();
        window.app.startTimer();
      }
    } else {
      state.lang = detectLanguage();
    }
  } catch (e) {
    state.lang = detectLanguage();
  }
}

function saveState() {
  try {
    localStorage.setItem('mtState', JSON.stringify({
      lang: state.lang,
      inputs: state.inputs,
      visited: state.visited,
      access: state.access,
      expiry: state.expiry
    }));
  } catch (e) {}
}

async function incrementStat(type) {
  try {
    await runTransaction(ref(db, "stats/" + type), currentValue => {
      return (currentValue || 0) + 1;
    });
    await loadStats();
  } catch (e) {}
}

async function loadStats() {
  try {
    const snap = await get(ref(db, "stats"));
    if (snap.exists()) {
      const s = snap.val();
      state.stats = s;
      document.getElementById('statJsonEnc').textContent = s.jsonEnc || 0;
      document.getElementById('statJsonDec').textContent = s.jsonDec || 0;
      document.getElementById('statJsObf').textContent = s.jsObf || 0;
      document.getElementById('statJsDeobf').textContent = s.jsDeobf || 0;
      document.getElementById('statMinify').textContent = s.minify || 0;
      document.getElementById('statBeautify').textContent = s.beautify || 0;
      document.getElementById('statUUID').textContent = s.uuid || 0;
      document.getElementById('statVisitors').textContent = s.visitors || 0;
      const total = (s.jsonEnc || 0) + (s.jsonDec || 0) + (s.jsObf || 0) + (s.jsDeobf || 0) + (s.minify || 0) + (s.beautify || 0) + (s.uuid || 0);
      document.getElementById('statTotal').textContent = total;
    }
  } catch (e) {}
}

async function trackVisitor() {
  if (!state.visited) {
    try {
      await runTransaction(ref(db, "stats/visitors"), currentValue => {
        return (currentValue || 0) + 1;
      });
      state.visited = true;
      saveState();
      await loadStats();
    } catch (e) {}
  }
}

window.addEventListener("load", () => {
  loadState();
  loadStats();
  trackVisitor();
  window.app.setLanguage(state.lang, true);
  restoreInputs();
  window.app.initEditorHighlighting();
});

function restoreInputs() {
  Object.keys(state.inputs).forEach(id => {
    const el = document.getElementById(id);
    if (el) {
      el.value = state.inputs[id];
      window.app.updateHighlight(el);
    }
  });
}

function saveInput(id, value) {
  state.inputs[id] = value;
  saveState();
}

const accessKey = "\x61\x33\x62\x39\x63\x37\x64\x32\x65";

window.app = {
  state,
  incrementStat,
  
  initEditorHighlighting() {
    document.querySelectorAll('.code-input').forEach(textarea => {
      this.updateHighlight(textarea);
    });
  },
  
  updateHighlight(textarea) {
    const text = textarea.value;
    const highlightId = textarea.id.replace('Input', 'Highlight');
    const highlightDiv = document.getElementById(highlightId);
    
    if (!highlightDiv) return;
    
    const scrollTop = textarea.scrollTop;
    const selectionStart = textarea.selectionStart;
    
    const detectionResult = hljs.highlightAuto(text, ['javascript', 'json', 'html', 'css', 'xml', 'plaintext']);
    const detectedLang = detectionResult.language || 'plaintext';
    
    const highlightedCode = hljs.highlight(text, { language: detectedLang }).value;
    
    highlightDiv.innerHTML = highlightedCode;
    
    textarea.scrollTop = scrollTop;
    highlightDiv.scrollTop = scrollTop;
    
    saveInput(textarea.id, text);
  },
  
  setLanguage(lang, skipSave = false) {
    state.lang = lang;
    if (!skipSave) saveState();
    
    document.querySelectorAll('.lang-btn').forEach(btn => {
      if (btn.getAttribute('data-lang') === lang) {
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });
    
    document.querySelectorAll('[data-en]').forEach(el => {
      const text = el.getAttribute('data-' + lang);
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = text;
      } else {
        el.textContent = text;
      }
    });
  },
  
  scrollToCard(cardId) {
    const card = document.getElementById(cardId);
    if (card) {
      card.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
  },
  
  showInfo(type) {
    const modal = document.getElementById('infoModal');
    const title = document.getElementById('modalTitle');
    const text = document.getElementById('modalText');
    
  const info = {
      en: {
        jsonEnc: {
          title: 'JSON to Unicode Escape',
          items: [
            { type: 'info-type', text: 'Input: valid JSON string' },
            { type: 'info-type', text: 'Output: Unicode \\uXXXX format' },
            { type: 'info-warning', text: 'may break with invalid JSON' }
          ],
          details: 'Converts all string values in JSON to Unicode escape sequences. Each character is encoded as \\uXXXX, where XXXX is the hexadecimal Unicode code point. The tool automatically minifies output by removing unnecessary whitespace while preserving JSON structure.'
        },
        jsonDec: {
          title: 'Unicode Escape to JSON',
          items: [
            { type: 'info-type', text: 'Input: Unicode escaped JSON' },
            { type: 'info-type', text: 'Output: readable JSON' },
            { type: 'info-success', text: 'auto-formatting' }
          ],
          details: 'Reverses the Unicode escape process, decoding \\uXXXX sequences back to original characters. The tool automatically detects Unicode escape patterns in input and converts them to readable text. After decoding, it attempts to parse and prettify the JSON with proper indentation for better readability.'
        },
        jsObf: {
          title: 'Code Obfuscation',
          items: [
            { type: 'info-type', text: 'Input: JavaScript code' },
            { type: 'info-type', text: 'Output: obfuscated code' },
            { type: 'info-success', text: '100% QuickJS compatible' },
            { type: 'info-warning', text: 'increases file size' },
            { type: 'info-error', text: 'not suitable for binary data' }
          ],
          details: ''
        },
        jsDeobf: {
          title: 'Code Deobfuscation',
          items: [
            { type: 'info-type', text: 'Input: obfuscated code' },
            { type: 'info-type', text: 'Output: formatted code' },
            { type: 'info-error', text: 'does not restore original names' },
          ],
          details: ''
        },
        minify: {
          title: 'Code Minification',
          items: [
            { type: 'info-type', text: 'Input: any JavaScript code' },
            { type: 'info-type', text: 'Output: minified code' },
            { type: 'info-success', text: 'removes whitespace and comments' },
            { type: 'info-warning', text: 'may break code' }
          ],
          details: 'Removes all unnecessary characters including whitespace, newlines, and comments. The process significantly reduces file size while maintaining functionality.'
        },
        beautify: {
          title: 'Code Formatting',
          items: [
            { type: 'info-type', text: 'Input: minified code' },
            { type: 'info-type', text: 'Output: formatted code' },
            { type: 'info-success', text: 'supports JS, HTML, CSS, JSON' },
            { type: 'info-warning', text: 'auto code type detection' }
          ],
          details: 'Restores readability of minified code'
        },
        uuid: {
          title: 'UUID v4 Generator',
          items: [
            { type: 'info-type', text: 'Generates RFC 4122 UUID v4' },
            { type: 'info-success', text: 'cryptographically random' }
          ],
          details: 'Generates version 4 UUIDs according to RFC 4122 standard (Universally Unique Identifiers). Each UUID is a 128-bit value displayed as 32 hexadecimal digits in format: xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx. The "4" indicates version 4 (random), and "y" is always 8, 9, A, or B. Uses cryptographically secure random number generation.'
        },
        stats: {
          title: 'Usage Statistics',
          items: [],
          details: 'Global usage statistics. Tracks the total number of operations performed for each tool by all users.'
        }
      },
      ru: {
        jsonEnc: {
          title: 'JSON –≤ Unicode Escape',
          items: [
            { type: 'info-type', text: '–í—Ö–æ–¥: –≤–∞–ª–∏–¥–Ω–∞—è JSON —Å—Ç—Ä–æ–∫–∞' },
            { type: 'info-type', text: '–í—ã—Ö–æ–¥: Unicode \\uXXXX —Ñ–æ—Ä–º–∞—Ç' },
            { type: 'info-warning', text: '–º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º JSON' }
          ],
          details: '–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ JSON –≤ Unicode escape –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ö–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ \\uXXXX, –≥–¥–µ XXXX ‚Äî —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–π –∫–æ–¥ —Å–∏–º–≤–æ–ª–∞ Unicode. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥, —É–¥–∞–ª—è—è –Ω–µ–Ω—É–∂–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON.'
        },
        jsonDec: {
          title: 'Unicode Escape –≤ JSON',
          items: [
            { type: 'info-type', text: '–í—Ö–æ–¥: Unicode escaped JSON' },
            { type: 'info-type', text: '–í—ã—Ö–æ–¥: —á–∏—Ç–∞–µ–º—ã–π JSON' },
            { type: 'info-success', text: '–∞–≤—Ç–æ-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ' }
          ],
          details: '–û–±—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å Unicode escape, –¥–µ–∫–æ–¥–∏—Ä—É—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ \\uXXXX –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏—Å—Ö–æ–¥–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã Unicode escape –≤–æ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏—Ö –≤ —á–∏—Ç–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç. –ü–æ—Å–ª–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –∏ –∫—Ä–∞—Å–∏–≤–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å JSON —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏.'
        },
        jsObf: {
          title: '–û–±—Ñ—É—Å–∫–∞—Ü–∏—è –∫–æ–¥–∞',
          items: [
            { type: 'info-type', text: '–í—Ö–æ–¥: JavaScript –∫–æ–¥' },
            { type: 'info-type', text: '–í—ã—Ö–æ–¥: –æ–±—Ñ—É—Å—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥' },
            { type: 'info-success', text: '100% —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å QuickJS' },
            { type: 'info-warning', text: '—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞' },
            { type: 'info-error', text: '–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö' }
          ],
          details: ''
        },
        jsDeobf: {
          title: '–î–µ–æ–±—Ñ—É—Å–∫–∞—Ü–∏—è –∫–æ–¥–∞',
          items: [
            { type: 'info-type', text: '–í—Ö–æ–¥: –æ–±—Ñ—É—Å—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥' },
            { type: 'info-type', text: '–í—ã—Ö–æ–¥: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥' },
            { type: 'info-error', text: '–Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞' },
          ],
          details: ''
        },
        minify: {
          title: '–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞',
          items: [
            { type: 'info-type', text: '–í—Ö–æ–¥: –ª—é–±–æ–π JavaScript –∫–æ–¥' },
            { type: 'info-type', text: '–í—ã—Ö–æ–¥: –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥' },
            { type: 'info-success', text: '—É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏' },
            { type: 'info-warning', text: '–º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –∫–æ–¥' }
          ],
          details: '–£–¥–∞–ª—è–µ—Ç –≤—Å–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–±–µ–ª—ã, –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –ü—Ä–æ—Ü–µ—Å—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, —Å–æ—Ö—Ä–∞–Ω—è—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.'
        },
        beautify: {
          title: '–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞',
          items: [
            { type: 'info-type', text: '–í—Ö–æ–¥: –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥' },
            { type: 'info-type', text: '–í—ã—Ö–æ–¥: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥' },
            { type: 'info-success', text: '–ø–æ–¥–¥–µ—Ä–∂–∫–∞ JS, HTML, CSS, JSON' },
            { type: 'info-warning', text: '–∞–≤—Ç–æ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ–¥–∞' }
          ],
          details: '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞'
        },
        uuid: {
          title: 'UUID v4 –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä',
          items: [
            { type: 'info-type', text: '–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç RFC 4122 UUID v4' },
            { type: 'info-success', text: '–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å–ª—É—á–∞–π–Ω—ã–π' }
          ],
          details: '–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç UUID –≤–µ—Ä—Å–∏–∏ 4 –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É RFC 4122 (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã). –ö–∞–∂–¥—ã–π UUID ‚Äî —ç—Ç–æ 128-–±–∏—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∫–∞–∫ 32 —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ: xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx. "4" –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –≤–µ—Ä—Å–∏—é 4 (—Å–ª—É—á–∞–π–Ω—ã–π), –∞ "y" –≤—Å–µ–≥–¥–∞ 8, 9, A –∏–ª–∏ B. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª.'
        },
        stats: {
          title: '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è',
          items: [],
          details: '–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –≤—Å–µ–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.'
        }
      }
    };
    
    const content = info[state.lang][type];
    title.textContent = content.title;
    
    const itemsHTML = content.items.map(item => 
      `<div class="info-item ${item.type}">${item.text}</div>`
    ).join('');
    
    const detailsHTML = `
      <div class="info-separator"></div>
      <div class="info-details">
        <div class="info-details-title">${state.lang === 'en' ? 'Detailed Description' : '–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ'}</div>
        <div class="info-details-text">${content.details}</div>
      </div>
    `;
    
    text.innerHTML = itemsHTML + detailsHTML;
    modal.classList.add('show');
  },
  
  closeModal() {
    document.getElementById('infoModal').classList.remove('show');
  },
  
  resetInput(inputId) {
    const el = document.getElementById(inputId);
    if (el) {
      el.value = '';
      saveInput(inputId, '');
      this.updateHighlight(el);
      el.blur();
    }
  },
  
  async pasteToInput(inputId) {
    const el = document.getElementById(inputId);
    if (!el) return;
    
    try {
      const text = await navigator.clipboard.readText();
      el.value = text;
      saveInput(inputId, text);
      this.updateHighlight(el);
      el.focus();
    } catch (e) {
      el.focus();
      document.execCommand('paste');
      setTimeout(() => this.updateHighlight(el), 50);
    }
  },
  
  showResult(containerId, resultId, text, isError = false) {
    const container = document.getElementById(containerId);
    const result = document.getElementById(resultId);
    
    if (isError) {
      result.textContent = text;
      result.className = 'result error';
    } else {
      const detectionResult = hljs.highlightAuto(text, ['javascript', 'json', 'html', 'css', 'xml', 'plaintext']);
      const detectedLang = detectionResult.language || 'plaintext';
      
      const highlightedResult = hljs.highlight(text, { language: detectedLang }).value;
      
      result.innerHTML = `<code class="hljs">${highlightedResult}</code>`;
      result.className = 'result';
    }
    
    container.className = 'result-container show';
  },
  
  async copyResult(resultId, btn) {
    const result = document.getElementById(resultId);
    const codeElement = result.querySelector('code');
    const text = codeElement ? codeElement.textContent : result.textContent;
    
    try {
      await navigator.clipboard.writeText(text);
      const orig = btn.textContent;
      btn.textContent = state.lang === 'en' ? 'Copied!' : '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
      btn.classList.add('copied');
      setTimeout(() => {
        btn.textContent = orig;
        btn.classList.remove('copied');
      }, 2000);
    } catch (e) {}
  },
  
  unicodeEscape(str) {
    let result = '';
    for (let i = 0; i < str.length; i++) {
      const code = str.charCodeAt(i);
      result += '\\u' + ('0000' + code.toString(16)).slice(-4);
    }
    return result;
  },
  
  jsonMinify(str) {
    let i = 0;
    const len = str.length;
    let result = '';
    let char;
    
    while (i < len) {
      char = str.charAt(i);
      
      if (char === '\t' || char === '\r' || char === '\n' || char === ' ') {
        i++;
        continue;
      }
      
      if (char === '/') {
        const next = str.charAt(i + 1);
        if (next === '/') {
          const lineEnd = str.indexOf('\n', i);
          i = lineEnd >= 0 ? lineEnd : len;
          continue;
        }
        if (next === '*') {
          const blockEnd = str.indexOf('*/', i);
          if (blockEnd >= 0) {
            i = blockEnd + 2;
            continue;
          }
        }
      }
      
      if (char === '"') {
        const start = i;
        while (i < len) {
          char = str.charAt(++i);
          if (char === '\\') {
            i++;
          } else if (char === '"') {
            break;
          }
        }
        result += str.slice(start, ++i);
        continue;
      }
      
      result += char;
      i++;
    }
    
    return result;
  },
  
  jsonEncrypt() {
    const txt = document.getElementById('jsonEncInput').value;
    if (!txt) {
      const err = state.lang === 'en' ? 'Error: Input is empty' : '–û—à–∏–±–∫–∞: –ü–æ–ª–µ –≤–≤–æ–¥–∞ –ø—É—Å—Ç–æ';
      this.showResult('jsonEncContainer', 'jsonEncResult', err, true);
      return;
    }
    
    try {
      const matches = String(txt).match(/"[^"]*"|'[^']*'/g);
      
      if (!Array.isArray(matches)) {
        const err = state.lang === 'en' ? 'Error: No strings found in JSON' : '–û—à–∏–±–∫–∞: –°—Ç—Ä–æ–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ JSON';
        this.showResult('jsonEncContainer', 'jsonEncResult', err, true);
        return;
      }
      
      let result = String(txt);
      
      for (let i = 0; i < matches.length; i++) {
        const original = matches[i].replace(/"/g, '').replace(/'/g, '');
        const escaped = this.unicodeEscape(original);
        result = result.replace(matches[i], '"' + escaped + '"');
      }
      
      try {
        result = this.jsonMinify(result);
      } catch (e) {}
      
      saveInput('jsonEncInput', txt);
      this.showResult('jsonEncContainer', 'jsonEncResult', result);
      incrementStat('jsonEnc');
    } catch (e) {
      const err = state.lang === 'en' ? 'Error: ' + e.message : '–û—à–∏–±–∫–∞: ' + e.message;
      this.showResult('jsonEncContainer', 'jsonEncResult', err, true);
    }
  },
  
  jsonDecrypt() {
    if (!state.access || Date.now() > state.expiry) {
      const msg = state.lang === 'en' ? 'Access required' : '–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø';
      alert(msg);
      this.showAccessModal();
      return;
    }
    
    const txt = document.getElementById('jsonDecInput').value;
    if (!txt) {
      const err = state.lang === 'en' ? 'Error: Input is empty' : '–û—à–∏–±–∫–∞: –ü–æ–ª–µ –≤–≤–æ–¥–∞ –ø—É—Å—Ç–æ';
      this.showResult('jsonDecContainer', 'jsonDecResult', err, true);
      return;
    }
    
    try {
      const result = txt.replace(/"(?:\\.|[^"\\])*"/g, (match) => {
        const inner = match.slice(1, -1);
        const decoded = inner.replace(/\\u([0-9a-fA-F]{4})/g, (m, hex) => {
          return String.fromCharCode(parseInt(hex, 16));
        });
        return '"' + decoded + '"';
      });
      
      try {
        const parsed = JSON.parse(result);
        const formatted = JSON.stringify(parsed, null, 2);
        this.showResult('jsonDecContainer', 'jsonDecResult', formatted);
      } catch(e) {
        this.showResult('jsonDecContainer', 'jsonDecResult', result);
      }
      
      saveInput('jsonDecInput', txt);
      incrementStat('jsonDec');
    } catch (e) {
      const err = state.lang === 'en' ? 'Error: ' + e.message : '–û—à–∏–±–∫–∞: ' + e.message;
      this.showResult('jsonDecContainer', 'jsonDecResult', err, true);
    }
  },
  
  jsObfuscate() {
    const input = document.getElementById('jsObfInput').value.trim();
    if (!input) {
      const err = state.lang === 'en' ? 'Error: Input is empty' : '–û—à–∏–±–∫–∞: –ü–æ–ª–µ –≤–≤–æ–¥–∞ –ø—É—Å—Ç–æ';
      this.showResult('jsObfContainer', 'jsObfResult', err, true);
      return;
    }
    
    try {
      if (typeof JavaScriptObfuscator === 'undefined') {
        const err = state.lang === 'en' ? 'Error: Library not loaded' : '–û—à–∏–±–∫–∞: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞';
        this.showResult('jsObfContainer', 'jsObfResult', err, true);
        return;
      }
      
      const obfuscated = JavaScriptObfuscator.obfuscate(input, {
        compact: true,
        simplify: true,
        identifierNamesGenerator: 'mangled',
        stringArrayEncoding: ['base64'],
        controlFlowFlattening: true,
        deadCodeInjection: true,
        numbersToExpressions: true,
        stringArray: true,
        stringArrayRotate: true,
        stringArrayShuffle: true,
        splitStrings: true,
        stringArrayThreshold: 1.00,
        target: 'browser',
        debugProtection: false,
        disableConsoleOutput: false,
        selfDefending: false,
        renameGlobals: false,
        unicodeEscapeSequence: false
      });
      saveInput('jsObfInput', input);
      this.showResult('jsObfContainer', 'jsObfResult', obfuscated.getObfuscatedCode());
      incrementStat('jsObf');
    } catch (e) {
      const err = state.lang === 'en' ? 'Error: ' + e.message : '–û—à–∏–±–∫–∞: ' + e.message;
      this.showResult('jsObfContainer', 'jsObfResult', err, true);
    }
  },
  
  async jsDeobfuscate() {
  },
  
  async codeMinify() {
    const input = document.getElementById('minifyInput').value.trim();
    
    if (!input) {
      const err = state.lang === 'en' ? 'Error: Input is empty' : '–û—à–∏–±–∫–∞: –ü–æ–ª–µ –≤–≤–æ–¥–∞ –ø—É—Å—Ç–æ';
      this.showResult('minifyContainer', 'minifyResult', err, true);
      return;
    }
    
    try {
      if (typeof Terser === 'undefined') {
        throw new Error('Terser library not loaded');
      }
      
      const result = await Terser.minify(input, {
        compress: {
          dead_code: true,
          drop_console: false,
          drop_debugger: true,
          keep_classnames: false,
          keep_fnames: false,
          passes: 2
        },
        mangle: {
          toplevel: false
        },
        format: {
          comments: false
        }
      });
      
      if (result.error) throw result.error;
      
      saveInput('minifyInput', input);
      this.showResult('minifyContainer', 'minifyResult', result.code);
      incrementStat('minify');
    } catch (e) {
      const err = state.lang === 'en' ? 'Error: ' + e.message : '–û—à–∏–±–∫–∞: ' + e.message;
      this.showResult('minifyContainer', 'minifyResult', err, true);
    }
  },
  
  async codeBeautify() {
  const inputEl = document.getElementById('beautifyInput');
  const input = inputEl.value.trim();

  if (!input) {
    const err =
      state.lang === 'en'
        ? 'Error: Input is empty'
        : '–û—à–∏–±–∫–∞: –ü–æ–ª–µ –≤–≤–æ–¥–∞ –ø—É—Å—Ç–æ';

    this.showResult(
      'beautifyContainer',
      'beautifyResult',
      err,
      true
    );
    return;
  }

  try {
    if (typeof prettier === 'undefined') {
      throw new Error('Prettier library not loaded');
    }

    const result = await prettier.format(input, {
      parser: 'babel',
      plugins: prettierPlugins,

      printWidth: 80,
      tabWidth: 2,
      useTabs: false,
      semi: true,
      singleQuote: true,
      trailingComma: 'es5',
      bracketSpacing: true,
      arrowParens: 'always'
    });

    saveInput('beautifyInput', input);

    this.showResult(
      'beautifyContainer',
      'beautifyResult',
      result
    );

    incrementStat('beautify');
  } catch (e) {
    const err =
      state.lang === 'en'
        ? 'Error: ' + e.message
        : '–û—à–∏–±–∫–∞: ' + e.message;

    this.showResult(
      'beautifyContainer',
      'beautifyResult',
      err,
      true
    );
  }
},
  
  generateUUID() {
    const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {
      const r = Math.random() * 16 | 0;
      const v = c === 'x' ? r : (r & 0x3 | 0x8);
      return v.toString(16);
    });
    this.showResult('uuidContainer', 'uuidResult', uuid);
    incrementStat('uuid');
  },
  
  showAccessModal() {
    const pass = prompt(
      (state.lang === 'en'
        ? 'Enter password:\nPassword is at VigeNerSl'
        : '–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:\n–ü–∞—Ä–æ–ª—å —É VigeNerSl')
    );

    if (pass === accessKey) {
      state.access = true;
      state.expiry = Date.now() + 300000;
      saveState();
      this.unlockCards();
      this.startTimer();
      alert(state.lang === 'en'
        ? 'Access granted for 5 minutes'
        : '–î–æ—Å—Ç—É–ø –Ω–∞ 5 –º–∏–Ω—É—Ç');
    } else if (pass !== null) {
      alert(state.lang === 'en'
        ? 'Invalid password'
        : '–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å');
    }
  },
  
  unlockCards() {
    document.getElementById('jsonDecCard').classList.remove('locked');
    document.getElementById('jsDeobfCard').classList.remove('locked');
    document.querySelectorAll('.locked-overlay').forEach(el => el.style.display = 'none');
  },
  
  lockCards() {
    document.getElementById('jsonDecCard').classList.add('locked');
    document.getElementById('jsDeobfCard').classList.add('locked');
    document.querySelectorAll('.locked-overlay').forEach(el => el.style.display = 'flex');
  },
  
  startTimer() {
    const display = document.getElementById('timerDisplay');
    display.style.display = 'block';
    
    if (state.timer) clearInterval(state.timer);
    
    state.timer = setInterval(() => {
      const remaining = state.expiry - Date.now();
      
      if (remaining <= 0) {
        clearInterval(state.timer);
        state.access = false;
        state.expiry = 0;
        saveState();
        this.lockCards();
        display.style.display = 'none';
        alert(state.lang === 'en' ? 'Access expired' : '–î–æ—Å—Ç—É–ø –∏—Å—Ç—ë–∫');
        return;
      }
      
      const min = Math.floor(remaining / 60000);
      const sec = Math.floor((remaining % 60000) / 1000);
      const text = state.lang === 'en' 
        ? `Access expires in: ${min}:${sec.toString().padStart(2, '0')}` 
        : `–î–æ—Å—Ç—É–ø –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑: ${min}:${sec.toString().padStart(2, '0')}`;
      display.textContent = text;
    }, 1000);
  }
};

window.onclick = e => {
  const modal = document.getElementById('infoModal');
  if (e.target === modal) app.closeModal();
};
</script>

</body>
  </html>
